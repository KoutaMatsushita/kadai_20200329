task copyClientResources(dependsOn: ":client:build") {
    group = "build"
    description = "Copy client resources into server"
}

copyClientResources.doFirst {
    copy {
        from project(":client").buildDir.absolutePath
        into "${project(":server").projectDir}/src/main/resources/public"
    }
}

task stage(dependsOn: ["copyClientResources", ":server:shadowJar"]) {
    group = "build"
    description = "Build combined server & client JAR"
}
